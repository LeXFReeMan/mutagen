<!doctype html><html lang=en class=h-100><head><title>Example | Mutagen</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" href=/img/favicon.png><link rel=apple-touch-icon sizes=114x114 href=/img/apple-touch-114.png><link rel=apple-touch-icon sizes=144x144 href=/img/apple-touch-144.png><script src=/js/bundle.18ed5611c09fa9cba6a2f11efb8ae4e4f57a0e7289515aa8e3ec64449fd0cdd7.js integrity="sha256-GO1WEcCfqcumovEe&#43;4rk5PV6DnKJUVqo4&#43;xkRJ/Qzdc="></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mukta|Roboto:300,400|Roboto+Mono"><link rel=stylesheet href=/css/bundle.952c27c90e48b6b24083f9bf60cbcd560d7e9f210dd98fec01fa37e24e74242d.css integrity="sha256-lSwnyQ5ItrJAg/m/YMvNVg1&#43;nyEN2Y/sAfo34k50JC0="></head><body class="d-flex flex-column h-100"><div class=flex-shrink-0><nav class="navbar navbar-expand-md navbar-light py-0"><div class=container><a class="navbar-brand mutagen-brand" href=/><img class="d-inline-block align-top logo" src=/img/logo.svg alt="Mutagen logo">
Mutagen</a>
<button class="navbar-toggler mr-2" type=button data-toggle=collapse data-target=#navigation-content aria-controls=navigation-content aria-expanded=false aria-label="Toggle navigation" style=border:none>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navigation-content><ul class="navbar-nav ml-auto"><li class="nav-item mr-3"><a class="nav-link text-dark" href=/documentation/introduction/installation>Install</a></li><li class="nav-item mr-3"><a class="nav-link text-dark" href=/documentation>Documentation</a></li><li class="nav-item mr-3"><a class="nav-link text-dark" href=https://spectrum.chat/mutagen target=_blank>Spectrum</a></li><li class="nav-item mr-3"><a class="nav-link text-dark" href=https://twitter.com/mutagen_io target=_blank>Twitter</a></li><li class=nav-item><a class="nav-link text-dark" href=https://github.com/mutagen-io/mutagen target=_blank>GitHub</a></li></ul></div></div></nav><nav class="navbar navbar-expand-md navbar-dark bg-dark py-0"><div class=container><div class="collapse navbar-collapse" id=navigation-content><ul class="navbar-nav ml-auto"><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=introduction-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Introduction</a><div class=dropdown-menu aria-labelledby=introduction-dropdown><a class=dropdown-item href=/documentation/introduction>Overview</a>
<a class=dropdown-item href=/documentation/introduction/installation>Installation</a>
<a class=dropdown-item href=/documentation/introduction/getting-started>Getting started</a>
<a class=dropdown-item href=/documentation/introduction/daemon>Daemon</a>
<a class=dropdown-item href=/documentation/introduction/configuration>Configuration</a>
<a class=dropdown-item href=/documentation/introduction/names-labels-identifiers>Names, labels, and identifiers</a></div></li><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=transports-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Transports</a><div class=dropdown-menu aria-labelledby=transports-dropdown><a class=dropdown-item href=/documentation/transports>Overview</a>
<a class=dropdown-item href=/documentation/transports/local>Local</a>
<a class=dropdown-item href=/documentation/transports/ssh>SSH</a>
<a class=dropdown-item href=/documentation/transports/docker>Docker<sup>®</sup> containers</a></div></li><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=synchronization-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Synchronization</a><div class=dropdown-menu aria-labelledby=synchronization-dropdown><a class=dropdown-item href=/documentation/synchronization>Overview</a>
<a class=dropdown-item href=/documentation/synchronization/ignores>Ignores</a>
<a class=dropdown-item href=/documentation/synchronization/version-control-systems>Version control systems</a>
<a class=dropdown-item href=/documentation/synchronization/permissions>Permissions</a>
<a class=dropdown-item href=/documentation/synchronization/symbolic-links>Symbolic links</a>
<a class=dropdown-item href=/documentation/synchronization/watching>Watching</a>
<a class=dropdown-item href=/documentation/synchronization/probing-and-scanning>Probing and scanning</a>
<a class=dropdown-item href=/documentation/synchronization/staging>Staging</a>
<a class=dropdown-item href=/documentation/synchronization/size-limits>Size limits</a>
<a class=dropdown-item href=/documentation/synchronization/safety-mechanisms>Safety mechanisms</a></div></li><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=forwarding-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Forwarding</a><div class=dropdown-menu aria-labelledby=forwarding-dropdown><a class=dropdown-item href=/documentation/forwarding>Overview</a>
<a class=dropdown-item href=/documentation/forwarding/unix-domain-sockets>Unix domain sockets</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=orchestration-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Orchestration</a><div class=dropdown-menu aria-labelledby=orchestration-dropdown><a class=dropdown-item href=/documentation/orchestration>Overview</a>
<a class=dropdown-item href=/documentation/orchestration/configuration>Configuration</a>
<a class=dropdown-item href=/documentation/orchestration/example>Example</a></div></li></ul></div></div></nav><div class="container my-5"><div class=row><div class="d-none d-lg-block col-lg-3"><div class="sticky-top padded-sticky-top"><nav id=TableOfContents><ul><li><a href=#example>Example</a><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#configuration-files>Configuration files</a></li><li><a href=#starting-the-project>Starting the project</a></li><li><a href=#using-the-container>Using the container</a></li><li><a href=#monitoring-and-managing-sessions>Monitoring and managing sessions</a></li><li><a href=#shutting-down-the-project>Shutting down the project</a></li><li><a href=#next-steps>Next steps</a></li></ul></li></ul></nav></div></div><div id=content class="col-md-12 col-lg-9 mb-3"><h1 id=example>Example</h1><p>This section provides a Mutagen orchestration workflow demonstration using the
Mutagen codebase itself.</p><h2 id=prerequisites>Prerequisites</h2><p>If you wish to run the example command in this section, you&rsquo;ll need Mutagen
v0.10.0+ and Docker<sup>®</sup> Compose installed. You&rsquo;ll also need a Docker
daemon to run the containers.</p><h2 id=configuration-files>Configuration files</h2><p>An
<a href=https://github.com/mutagen-io/mutagen/blob/2070406df444698584dad2d1e656ae9d1aeece95/mutagen.yml>example <code>mutagen.yml</code> file</a>
can be found in the <a href=https://github.com/mutagen-io/mutagen>Mutagen repository</a>,
along with a corresponding
<a href=https://github.com/mutagen-io/mutagen/blob/2070406df444698584dad2d1e656ae9d1aeece95/docker-compose.yml>Docker Compose configuration</a>
and underlying
<a href=https://github.com/mutagen-io/mutagen/blob/2070406df444698584dad2d1e656ae9d1aeece95/scripts/environments/development/Dockerfile>Dockerfile</a>.</p><p>To grab a copy of these files, you can simply <code>git clone</code> the repository:</p><pre><code>git clone https://github.com/mutagen-io/mutagen.git
</code></pre><h2 id=starting-the-project>Starting the project</h2><p>To start the Mutagen development environment, you can switch to the Mutagen
repository root and do:</p><pre><code># Start Docker Compose services
docker-compose up --build --force-recreate --detach
# Start Mutagen project sessions
mutagen project start
</code></pre><p>This starts up a Linux<sup>®</sup>-based development container and initializes a
synchronization session that pushes code into the container and forwards <code>godoc</code>
HTTP traffic into the container. Changes you make to the code in the repository
will be reflected inside the container.</p><h2 id=using-the-container>Using the container</h2><p>To work interactively inside the development container, you can start shells
with:</p><pre><code>docker-compose exec development /bin/sh
</code></pre><p>Once inside the container, you can build the Mutagen codebase:</p><pre><code>go run scripts/build.go
</code></pre><p>Or run tests:</p><pre><code>go test -p 1 ./pkg/...
</code></pre><h2 id=monitoring-and-managing-sessions>Monitoring and managing sessions</h2><p>Outside of the container, you can use the <code>mutagen project list</code> command to
monitor sessions, and the <code>mutagen project flush</code>, <code>mutagen project pause</code>, and
<code>mutagen project resume</code> commands to manage sessions.</p><h2 id=shutting-down-the-project>Shutting down the project</h2><p>Once you&rsquo;re done using the development container, you can terminate Mutagen
sessions and the container itself using the following commands:</p><pre><code># Terminate Mutagen project sessions
mutagen project terminate
# Terminate Docker Compose services
docker-compose down --rmi=all
</code></pre><h2 id=next-steps>Next steps</h2><p>Once you have that workflow set up, you can even move the entire development
infrastructure off of your laptop using the <code>DOCKER_HOST</code> environment variable
when invoking <code>docker-compose up</code>, <code>mutagen project start</code>, and
<code>docker-compose down</code> (Mutagen will lock in <code>DOCKER_HOST</code> and other Docker
environment variables and doesn&rsquo;t need them re-specified for each command).</p></div></div></div></div><footer class="mt-auto bg-dark py-4"><div class=container><div class=row><div class="col-md-4 my-3"><h6 class="text-white font-weight-bold mb-1">© 2016 – 2019 Mutagen IO, Inc.</h6><span class=text-light>All rights reserved.</span><br><strong><a class=text-success href=mailto:hello@mutagen.io>hello@mutagen.io</a></strong></div><div class=col-md-8><div class=row><div class="col-md-4 my-3"><h6 class="text-light text-uppercase font-weight-bold">Resources</h6><ul class="nav flex-column"><li class=nav-item><a class="nav-link px-0 text-light" href=/documentation>Documentation</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://groups.google.com/forum/#!forum/mutagen-announce>Announcements</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://github.com/mutagen-io/mutagen/blob/master/SECURITY.md>Security</a></li></ul></div><div class="col-md-4 my-3"><h6 class="text-light text-uppercase font-weight-bold">Legal</h6><ul class="nav flex-column"><li class=nav-item><a class="nav-link px-0 text-light" href=/legal/licenses>Licenses</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=/legal/third-party-trademarks>Third-party trademarks</a></li></ul></div><div class="col-md-4 my-3"><h6 class="text-light text-uppercase font-weight-bold">Links</h6><ul class="nav flex-column"><li class=nav-item><a class="nav-link px-0 text-light" href=https://spectrum.chat/mutagen>Spectrum</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://twitter.com/mutagen_io>Twitter</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://github.com/mutagen-io/mutagen>GitHub</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=#>Top of page ▲</a></li></ul></div></div></div></div></div></footer></body></html>