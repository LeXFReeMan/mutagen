<!doctype html><html lang=en class=h-100><head><title>Unix domain sockets | Mutagen</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" href=/img/favicon.png><link rel=apple-touch-icon sizes=114x114 href=/img/apple-touch-114.png><link rel=apple-touch-icon sizes=144x144 href=/img/apple-touch-144.png><script src=/js/bundle.18ed5611c09fa9cba6a2f11efb8ae4e4f57a0e7289515aa8e3ec64449fd0cdd7.js integrity="sha256-GO1WEcCfqcumovEe&#43;4rk5PV6DnKJUVqo4&#43;xkRJ/Qzdc="></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mukta|Roboto:300,400|Roboto+Mono"><link rel=stylesheet href=/css/bundle.952c27c90e48b6b24083f9bf60cbcd560d7e9f210dd98fec01fa37e24e74242d.css integrity="sha256-lSwnyQ5ItrJAg/m/YMvNVg1&#43;nyEN2Y/sAfo34k50JC0="></head><body class="d-flex flex-column h-100"><div class=flex-shrink-0><nav class="navbar navbar-expand-md navbar-light py-0"><div class=container><a class="navbar-brand mutagen-brand" href=/><img class="d-inline-block align-top logo" src=/img/logo.svg alt="Mutagen logo">
Mutagen</a>
<button class="navbar-toggler mr-2" type=button data-toggle=collapse data-target=#navigation-content aria-controls=navigation-content aria-expanded=false aria-label="Toggle navigation" style=border:none>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navigation-content><ul class="navbar-nav ml-auto"><li class="nav-item mr-3"><a class="nav-link text-dark" href=/documentation/introduction/installation>Install</a></li><li class="nav-item mr-3"><a class="nav-link text-dark" href=/documentation>Documentation</a></li><li class="nav-item mr-3"><a class="nav-link text-dark" href=https://spectrum.chat/mutagen target=_blank>Spectrum</a></li><li class="nav-item mr-3"><a class="nav-link text-dark" href=https://twitter.com/mutagen_io target=_blank>Twitter</a></li><li class=nav-item><a class="nav-link text-dark" href=https://github.com/mutagen-io/mutagen target=_blank>GitHub</a></li></ul></div></div></nav><nav class="navbar navbar-expand-md navbar-dark bg-dark py-0"><div class=container><div class="collapse navbar-collapse" id=navigation-content><ul class="navbar-nav ml-auto"><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=introduction-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Introduction</a><div class=dropdown-menu aria-labelledby=introduction-dropdown><a class=dropdown-item href=/documentation/introduction>Overview</a>
<a class=dropdown-item href=/documentation/introduction/installation>Installation</a>
<a class=dropdown-item href=/documentation/introduction/getting-started>Getting started</a>
<a class=dropdown-item href=/documentation/introduction/daemon>Daemon</a>
<a class=dropdown-item href=/documentation/introduction/configuration>Configuration</a>
<a class=dropdown-item href=/documentation/introduction/names-labels-identifiers>Names, labels, and identifiers</a></div></li><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=transports-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Transports</a><div class=dropdown-menu aria-labelledby=transports-dropdown><a class=dropdown-item href=/documentation/transports>Overview</a>
<a class=dropdown-item href=/documentation/transports/local>Local</a>
<a class=dropdown-item href=/documentation/transports/ssh>SSH</a>
<a class=dropdown-item href=/documentation/transports/docker>Docker<sup>®</sup> containers</a></div></li><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=synchronization-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Synchronization</a><div class=dropdown-menu aria-labelledby=synchronization-dropdown><a class=dropdown-item href=/documentation/synchronization>Overview</a>
<a class=dropdown-item href=/documentation/synchronization/ignores>Ignores</a>
<a class=dropdown-item href=/documentation/synchronization/version-control-systems>Version control systems</a>
<a class=dropdown-item href=/documentation/synchronization/permissions>Permissions</a>
<a class=dropdown-item href=/documentation/synchronization/symbolic-links>Symbolic links</a>
<a class=dropdown-item href=/documentation/synchronization/watching>Watching</a>
<a class=dropdown-item href=/documentation/synchronization/probing-and-scanning>Probing and scanning</a>
<a class=dropdown-item href=/documentation/synchronization/staging>Staging</a>
<a class=dropdown-item href=/documentation/synchronization/size-limits>Size limits</a>
<a class=dropdown-item href=/documentation/synchronization/safety-mechanisms>Safety mechanisms</a></div></li><li class="nav-item dropdown mr-1"><a class="nav-link dropdown-toggle" href=# id=forwarding-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Forwarding</a><div class=dropdown-menu aria-labelledby=forwarding-dropdown><a class=dropdown-item href=/documentation/forwarding>Overview</a>
<a class=dropdown-item href=/documentation/forwarding/unix-domain-sockets>Unix domain sockets</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=orchestration-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Orchestration</a><div class=dropdown-menu aria-labelledby=orchestration-dropdown><a class=dropdown-item href=/documentation/orchestration>Overview</a>
<a class=dropdown-item href=/documentation/orchestration/configuration>Configuration</a>
<a class=dropdown-item href=/documentation/orchestration/example>Example</a></div></li></ul></div></div></nav><div class="container my-5"><div class=row><div class="d-none d-lg-block col-lg-3"><div class="sticky-top padded-sticky-top"><nav id=TableOfContents><ul><li><a href=#unix-domain-sockets>Unix domain sockets</a><ul><li><a href=#overwrites>Overwrites</a></li><li><a href=#access-rights>Access rights</a><ul><li><a href=#ownership>Ownership</a></li><li><a href=#permissions>Permissions</a></li></ul></li></ul></li></ul></nav></div></div><div id=content class="col-md-12 col-lg-9 mb-3"><h1 id=unix-domain-sockets>Unix domain sockets</h1><p>Unix domain socket endpoints come with a few additional configuration options
due to their filesystem presence.</p><h2 id=overwrites>Overwrites</h2><p>When an application attempts to bind a Unix domain socket to a filesystem
location and finds that an entry already exists at that path, the bind will
fail. Although Mutagen cleans up its socket filesystem entries when it closes
its Unix domain socket listeners, many applications do not, and there&rsquo;s always
the possibility that Mutagen is abruptly terminated without the opportunity to
clean up up these entries.</p><p>As a result, it&rsquo;s often necessary to remove stale socket entries from the
filesystem when creating a new listener. To that end, Mutagen has two different
&ldquo;socket overwrite&rdquo; modes that control how it behaves when a conflicting
filesystem entry exists:</p><ul><li><strong><code>leave</code> (Default)</strong>: In this mode, Mutagen will leave any conflicting
filesystem entry in place and abort creation of the listener.</li><li><strong><code>overwrite</code></strong>: In this mode, Mutagen will remove any conflicting filesystem
entry and re-attempt creation of the listener. Removal will only be attempted
for a single filesystem entry, meaning that it can only remove a file,
symbolic link, or socket — it can&rsquo;t remove a conflicting directory.</li></ul><p>These modes can be specified on a per-session and/or per-endpoint basis by
passing the <code>--socket-overwrite-mode=&lt;mode&gt;</code> or
<code>--socket-overwrite-mode-(source|destination)=&lt;mode&gt;</code> flag, respectively, to the
<code>mutagen forward create</code> command. These modes can be specified on a default
per-session basis by including the following configuration in <code>~/.mutagen.yml</code>:</p><pre><code>forward:
  defaults:
    socket:
      overwriteMode: &quot;&lt;mode&gt;&quot;
</code></pre><h2 id=access-rights>Access rights</h2><p>Filesystem socket entries have permissions just like any other file, and these
are often critical to ensuring the security of an application. Mutagen allows
socket ownership and permissions to be set for the listener sockets it creates.</p><h3 id=ownership>Ownership</h3><p>Socket ownership can be specified on a per-session and/or per-endpoint basis by
passing the <code>--socket-owner=&lt;owner&gt;</code> or
<code>--socket-owner-(source|destination)=&lt;owner&gt;</code> flag, respectively, to the
<code>mutagen forward create</code> command. Socket ownership can be specified on a default
per-session basis by including the following configuration in <code>~/.mutagen.yml</code>:</p><pre><code>forward:
  defaults:
    socket:
      owner: &quot;&lt;owner&gt;&quot;
</code></pre><p>Socket groups can be specified on a per-session and/or per-endpoint basis by
passing the <code>--socket-group=&lt;group&gt;</code> or
<code>--socket-group-(source|destination)=&lt;group&gt;</code> flag, respectively, to the
<code>mutagen forward create</code> command. Socket groups can be specified on a default
per-session basis by including the following configuration in <code>~/.mutagen.yml</code>:</p><pre><code>forward:
  defaults:
    socket:
      group: &quot;&lt;owner&gt;&quot;
</code></pre><p>Owner and group specifications are the same as those used in
<a href=/documentation/synchronization/permissions/#owners-and-groups>synchronization ownership specifications</a>
and carry the same caveats.</p><h3 id=permissions>Permissions</h3><p>Socket permissions can be specified on a per-session and/or per-endpoint basis
by passing the <code>--socket-permission-mode=&lt;mode&gt;</code> or
<code>--socket-permission-mode-(source|destination)=&lt;mode&gt;</code> flag, respectively, to
the <code>mutagen forward create</code> command. Default permissions can be specified on a
default per-session basis by including the following configuration in
<code>~/.mutagen.yml</code>:</p><pre><code>forward:
  defaults:
    socket:
      permissionMode: &lt;mode&gt;
</code></pre><p>Permission specifications are the same as those used in
<a href=/documentation/synchronization/permissions/#permissions-1>synchronization permission mode specifications</a>
and carry the same caveats.</p></div></div></div></div><footer class="mt-auto bg-dark py-4"><div class=container><div class=row><div class="col-md-4 my-3"><h6 class="text-white font-weight-bold mb-1">© 2016 – 2019 Mutagen IO, Inc.</h6><span class=text-light>All rights reserved.</span><br><strong><a class=text-success href=mailto:hello@mutagen.io>hello@mutagen.io</a></strong></div><div class=col-md-8><div class=row><div class="col-md-4 my-3"><h6 class="text-light text-uppercase font-weight-bold">Resources</h6><ul class="nav flex-column"><li class=nav-item><a class="nav-link px-0 text-light" href=/documentation>Documentation</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://groups.google.com/forum/#!forum/mutagen-announce>Announcements</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://github.com/mutagen-io/mutagen/blob/master/SECURITY.md>Security</a></li></ul></div><div class="col-md-4 my-3"><h6 class="text-light text-uppercase font-weight-bold">Legal</h6><ul class="nav flex-column"><li class=nav-item><a class="nav-link px-0 text-light" href=/legal/licenses>Licenses</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=/legal/third-party-trademarks>Third-party trademarks</a></li></ul></div><div class="col-md-4 my-3"><h6 class="text-light text-uppercase font-weight-bold">Links</h6><ul class="nav flex-column"><li class=nav-item><a class="nav-link px-0 text-light" href=https://spectrum.chat/mutagen>Spectrum</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://twitter.com/mutagen_io>Twitter</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=https://github.com/mutagen-io/mutagen>GitHub</a></li><li class=nav-item><a class="nav-link px-0 text-light" href=#>Top of page ▲</a></li></ul></div></div></div></div></div></footer></body></html>