<!doctype html>
<html lang="en" class="h-100">
    <head>
        
        <title>
            
                Ignoring paths | Mutagen
            
        </title>

        
        <meta charset="utf-8">

        
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        
        <link rel="shortcut icon" href="/img/favicon.png">

        
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>

        
        <script src="/js/asciinema-player.js"></script>

        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mukta|Roboto:300,400|Roboto+Mono">

        
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

        
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

        
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

        
        <link rel="stylesheet" href="/css/asciinema-player.css">

        
        
        <link rel="stylesheet" href="https://mutagen.io/sass/mutagen.min.9b222dd1d84a63648b0e047c53c211c76c3ad36feaf7bed5889a943ebb9f573a.css" integrity="sha256-myIt0dhKY2SLDgR8U8IRx2w602/q977ViJqUPrufVzo=">

        
        <script type="text/javascript">
            
            $(function () {
                $('[data-toggle="tooltip"]').tooltip()
            });
        </script>
    </head>
    <body class="d-flex flex-column h-100">
        <div class="flex-shrink-0">
            <nav class="navbar navbar-light navbar-expand-md">
                <div class="container">
                    <a class="navbar-brand" href="/">
                        <img class="d-inline-block align-top mutagen-navbar-logo" src="/img/logo_thick_light.svg" alt="Mutagen logo">
                        Mutagen
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation-content" aria-controls="navigation-content" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="collapse navbar-collapse" id="navigation-content">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="/overview">Overview</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/documentation">Documentation</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/documentation/installation">Install</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="https://github.com/havoc-io/mutagen">Source</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>

<div class="container">
    <nav class="pt-4 pb-1" aria-label="breadcrumb">
    <ol class="breadcrumb">
        
        
            
        
        
        <li class="breadcrumb-item">
            <a href="https://mutagen.io/documentation/">Documentation</a>
        
        </li>
    
        
        
        <li class="breadcrumb-item active" aria-current="page">
            Ignoring paths
        
        </li>
    
    </ol>
    
</nav>
    <div class="row">
        <div class="d-none d-lg-block col-lg-4">
            <div class="sticky-top" style="top:40px;">
                <nav id="TableOfContents">
<ul>
<li><a href="#ignores">Ignores</a>
<ul>
<li><a href="#global-ignores">Global ignores</a></li>
<li><a href="#per-session-ignores">Per-session ignores</a></li>
<li><a href="#ignore-groups">Ignore groups</a>
<ul>
<li><a href="#version-control-systems">Version control systems</a></li>
</ul></li>
<li><a href="#format-and-behavior">Format and behavior</a></li>
</ul></li>
</ul>
</nav>
            </div>
        </div>
        <div class="col-md-12 col-lg-8 mb-3">
            

<h1 id="ignores">Ignores</h1>

<p>By default, Mutagen attempts to propagate all files that it sees within a
synchronization root. This isn&rsquo;t always desirable, so Mutagen supports ignoring
paths within a synchronization root and excluding them from synchronization.
When a path is ignored, it won&rsquo;t be scanned, it won&rsquo;t be propagated, and it
won&rsquo;t be deleted.</p>

<p>Mutagen allows ignores to be specified on both a default and per-session basis,
and provides utilities for ignoring certain kinds of common directories.</p>

<p>Mutagen also provides a rich syntax for specifying ignores, which should be
familiar to Git users.</p>

<h2 id="global-ignores">Global ignores</h2>

<p>Global ignores affect all newly created sessions. These should be used for files
that should always be ignored, e.g. those pesky <code>.DS_Store</code> files on macOS.</p>

<p>When a new session is created, global ignores are &ldquo;locked in&rdquo; to the session
configuration, meaning that subsequent changes to global ignores will only be
reflected in subsequently created sessions. This is for simplicity (no need to
think through the effects of changing ignores in one place) and safety (no files
will suddenly become unignored and propagated (causing conflicts or security
risks) or silently ignored).</p>

<p>Global ignores are specified in the <code>~/.mutagen.toml</code> file as follows:</p>

<pre><code>[ignore]
default = [
    # System files
    &quot;.DS_Store&quot;,
    &quot;._*&quot;,

    # Vim files
    &quot;*~&quot;,
    &quot;*.sw[a-p]&quot;,
]
</code></pre>

<p>Obviously you&rsquo;ll want to put whatever ignores in here that <em>you</em> want.</p>

<h2 id="per-session-ignores">Per-session ignores</h2>

<p>Per-session ignores only affect the session to which they are attached. They are
processed after global ignores, meaning that they can extend or cancel out
global ignores.</p>

<p>To specify ignores on a per-session basis, use the <code>--ignore</code> flag of the
<code>create</code> command.</p>

<h2 id="ignore-groups">Ignore groups</h2>

<p>Mutagen provides ignore &ldquo;groups&rdquo; that provide a pre-defined set of ignores that
can be used for sessions. At the moment, only one ignore group is defined in
Mutagen, which ignores VCS directories (e.g. <code>.git</code>, <code>.svn</code>, etc.), though
additional ignore groups (e.g. for Python object code files, <code>node_modules</code>
directories, etc.) will be coming in future versions.</p>

<p>Ignore groups are processed before both global and per-session ignores, so they
can be extended or cancelled out by global and per-session ignores.</p>

<h3 id="version-control-systems">Version control systems</h3>

<p>Version control system (VCS) directories can be ignored on a per-session basis
by passing the <code>--ignore-vcs</code> flag to the <code>create</code> command and on a default
basis by including the following configuration in <code>~/.mutagen.toml</code>:</p>

<pre><code>[ignore]
vcs = true
</code></pre>

<p>A default VCS ignore setting can be overridden on a per-session basis by passing
the <code>--no-ignore-vcs</code> flag to the <code>create</code> command.</p>

<h2 id="format-and-behavior">Format and behavior</h2>

<p>The format and behavior of Mutagen&rsquo;s ignore patterns are designed to match those
of Git, insofar as that makes sense for Mutagen&rsquo;s somewhat different
application.</p>

<p>Ignore patterns are essentially paths that support special syntax for matching.
At a base level, ignore patterns are built using the
<a href="https://github.com/bmatcuk/doublestar">doublestar</a> package, so all of the
syntax there carries over.</p>

<p>Ignore patterns use <code>/</code> as a path separator. All paths are treated as relative
to the synchronization root.</p>

<p>If an ignore pattern does not contain a <code>/</code>, i.e. it is a leaf name, then it
will also be treated as relative to any subdirectory in the synchronization
root. For example, an ignore pattern of <code>some/path</code> will only ignore content at
<code>&lt;root&gt;/some/path</code>, but an ignore pattern of <code>path</code> will ignore content at
<code>&lt;root&gt;/path</code>, <code>&lt;root&gt;/some/path</code>, <code>&lt;root&gt;/other/path</code>, etc. If you want to
ignore content that exists directly at the root and not any other subpath, then
prefix the ignore with <code>/</code>. For example, <code>build</code> will ignore content named
<code>build</code> at any subdirectory, but <code>/build</code> will only ignore content at
<code>&lt;root&gt;/build</code>.</p>

<p>Suffixing a pattern with <code>/</code> will cause it to match only directories. It&rsquo;s
important to note that this is the only way that a path can &ldquo;become&rdquo; ignored or
unignored, and the way that this behaves with a three-way merge might be
non-intuitive. For example, imagine that an ignore of <code>name/</code> is specified, and
that both endpoints of the connection have a copy of a synchronized file (not a
directory) called <code>name</code>. Imagine that one endpoint then replaces the file
<code>name</code> with a directory called <code>name</code>. This directory will now be ignored. Since
Mutagen will ignore a directory called <code>name</code> in its scans, it will appear to
Mutagen&rsquo;s three-way merge algorithm that the content at this path has been
deleted on the side where the type has changed to a directory, and it will thus
propagate deletion of the file called <code>name</code> to the other endpoint. This is
still technically correct behavior, but it&rsquo;s worth understanding before using
this type of ignore pattern.</p>

<p>Prefixing a pattern with <code>!</code> will cause it to negate previously matching
ignores. E.g. specifying an ignore list like <code>[&quot;hot*&quot;, &quot;!hotel&quot;]</code> will ignore
any content whose name begins with &ldquo;hot&rdquo;, unless the full content name is
&ldquo;hotel&rdquo;. This can be a useful mechanism for overriding global ignores on a
per-session basis.</p>

        </div>
    </div>
</div>

        </div>
        <footer class="mt-auto">
            <div class="container py-3">
                <div class="row">
                    <div class="col-md-4 py-3 text-muted">
                        <strong>Copyright © 2016 – 2019 Jacob Howard.</strong><br />
                        All rights reserved.
                    </div>
                    <div class="col-md-2 offset-md-2 py-3">
                        <h4>Resources</h4>
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link active" href="/documentation">Documentation</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="https://groups.google.com/forum/#!forum/mutagen-announce">Announcements</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="https://groups.google.com/forum/#!forum/mutagen">Forums</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="https://github.com/havoc-io/mutagen/blob/master/SECURITY.md">Security</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-2 py-3">
                        <h4>Legal</h4>
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link active" href="/third-party-trademark-notices">Third-party trademarks</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-2 py-3">
                        <h4>Links</h4>
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link active" href="https://github.com/havoc-io/mutagen">GitHub</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="https://twitter.com/mutagen_io">Twitter</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="#">Top of page <i class="fas fa-caret-up"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
    </body>
</html>
